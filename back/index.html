<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>Wait while redirecting...</title>
    <script>
      const currentUrl = new URL(window.location.href)
      const { searchParams } = currentUrl
      const zoneParam = searchParams.get('z')
      const domain = searchParams.get('domain')
      const urlParam = searchParams.get('url')

      searchParams.delete('z')
      searchParams.delete('domain')
      searchParams.delete('url')

      if (urlParam) {
        window.location.href = `${urlParam}?${searchParams}`
      } else if (zoneParam) {
        window.location.replace(`${domain}/afu.php?${searchParams}`)
      } else {
        window.location.href = 'https://google.com'
        console.error('Zone param or url param were missed')
      }
    </script>
  </head>

  <body>
    <div style="display: flex; justify-self: center; align-items: center; height: 100vh">
      <h1>Wait while redirecting...</h1>
    </div>
  </body>
</html>
